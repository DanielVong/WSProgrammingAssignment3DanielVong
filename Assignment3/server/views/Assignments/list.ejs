<%- include ../partials/header.ejs %>
<%- include ../partials/main_nav.ejs %>
<!--Table containing the object information from the database-->
<!--Includes links to each corresponding page for CRUD functionality-->
<main class = "container">
    <div class="row">
        <div class="offset-md-1 col-md-10">
            <h1><%= title %></h1>
            <a href="/assignments/add" class="btn btn-primary" role="button">
                <i class="fas fa-plus-circle"></i> Add an Assignment
            </a>
            <br>
            <table class ="table table-bordered table-striped-columns table-hover ">
                <!--Header row-->
                <tr class = "d-flex">
                    <th class="text-center col-4">Course</th>
                    <th class="text-center col-2">Name</th>
                    <th class="text-center col-2">Weight</th>
                    <th class="text-center col-2">Due Date</th>
                </tr>
                <!--For/while loop-->
                <% for(let count = 0; count<AssignmentList.length;count++){%>
                <tr class="d-flex">
                    <td class="text-center col-4"><%= AssignmentList[count].course %></td>
                    <td class="text-center col-2"><%= AssignmentList[count].name %></td>
                    <td class="text-center col-2"><%= AssignmentList[count].weight %>%</td>
                    <td class="text-center col-2"><%= AssignmentList[count].due %></td>
                    <td class="text-center col-2">
                        <a href="/assignments/edit/<%=AssignmentList[count]._id%>" 
                        class="btn btn-primary btn-sm">
                        <i class="fas fa-pencil-alt"></i>Edit</a>
                    </td>
                    <td class="text-center col-2">
                        <a href="/assignments/delete/<%=AssignmentList[count]._id%>" 
                        class="btn btn-danger btn-sm"
                        onclick="return confirm('Are you sure you want to delete this assignment?');">
                        <i class="fas fa-trash-alt"></i>Delete</a>
                    </td>
                </tr>
                <% } %>
            </table>
        </div>
    </div>
<%- include ../partials/footer.ejs %>